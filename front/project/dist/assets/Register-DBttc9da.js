import{d as V,q as p,o as y,c as P,a as f,b as e,w as r,f as m,e as x,P as R,i as C,r as t,S as E,Q as U,B as q,R as z,E as c,_ as k}from"./index-B7BW4uVQ.js";import{a as B}from"./auth-ueMubseZ.js";const S={class:"register-container"},F={class:"form-footer"},N=V({__name:"Register",setup(A){const _=C(),i=p(!1),d=p(),l=p({username:"",email:"",phone:"",password:""}),v={username:[{required:!0,message:"Please enter username",trigger:"blur"},{min:3,message:"Username must be at least 3 characters",trigger:"blur"}],email:[{required:!0,message:"Please enter email",trigger:"blur"},{type:"email",message:"Please enter valid email",trigger:"blur"}],phone:[{required:!0,message:"Please enter phone number",trigger:"blur"}],password:[{required:!0,message:"Please enter password",trigger:"blur"},{min:6,message:"Password must be at least 6 characters",trigger:"blur"}]},b=async()=>{if(d.value)try{await d.value.validate(),i.value=!0,await B.registerCustomer({username:l.value.username,email:l.value.email,phone:l.value.phone,password:l.value.password}),c.success("Registration successful"),_.push("/auth/login")}catch(g){c.error(g.message||"Registration failed")}finally{i.value=!1}};return(g,a)=>{const o=t("el-icon"),u=t("el-input"),n=t("el-form-item"),w=t("el-button"),h=t("el-form");return y(),P("div",S,[a[5]||(a[5]=f("h2",null,"Create Account",-1)),a[6]||(a[6]=f("p",{class:"subtitle"},"Please fill in the form to continue",-1)),e(h,{ref_key:"customerFormRef",ref:d,model:l.value,rules:v,"label-position":"top",onSubmit:R(b,["prevent"])},{default:r(()=>[e(n,{label:"Username",prop:"username"},{default:r(()=>[e(u,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value.username=s),placeholder:"Enter your username",size:"large"},{prefix:r(()=>[e(o,null,{default:r(()=>[e(m(E))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"Email",prop:"email"},{default:r(()=>[e(u,{modelValue:l.value.email,"onUpdate:modelValue":a[1]||(a[1]=s=>l.value.email=s),placeholder:"Enter your email",type:"email",size:"large"},{prefix:r(()=>[e(o,null,{default:r(()=>[e(m(U))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"Phone",prop:"phone"},{default:r(()=>[e(u,{modelValue:l.value.phone,"onUpdate:modelValue":a[2]||(a[2]=s=>l.value.phone=s),placeholder:"Enter your phone number",size:"large"},{prefix:r(()=>[e(o,null,{default:r(()=>[e(m(q))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"Password",prop:"password"},{default:r(()=>[e(u,{modelValue:l.value.password,"onUpdate:modelValue":a[3]||(a[3]=s=>l.value.password=s),placeholder:"Create a password",type:"password",size:"large","show-password":""},{prefix:r(()=>[e(o,null,{default:r(()=>[e(m(z))]),_:1})]),_:1},8,["modelValue"])]),_:1}),f("div",F,[e(w,{type:"primary","native-type":"submit",size:"large",loading:i.value,class:"submit-btn"},{default:r(()=>a[4]||(a[4]=[x(" Create Account ")])),_:1},8,["loading"])])]),_:1},8,["model"])])}}}),Q=k(N,[["__scopeId","data-v-ea77d3da"]]);export{Q as default};
